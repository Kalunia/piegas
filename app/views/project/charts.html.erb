<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title> Piegas - Gráficos</title>
		<link REL="SHORTCUT ICON" HREF="favicon.png">
		<!-- <link href="/stylesheets/background.css" rel="stylesheet" type="text/css" /> -->
    <link href="/stylesheets/style4.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/head.css" rel="stylesheet" type="text/css"  />
    <link href="/sb-admin/css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="/sb-admin/css/sb-admin.css" rel="stylesheet" type="text/css" />
    <link href="/sb-admin/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="js/modernizr.custom.04022.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="/sb-admin/js/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="/sb-admin/js/bootstrap.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <script src="http://canvg.googlecode.com/svn/trunk/rgbcolor.js"></script> 
    <script src="http://canvg.googlecode.com/svn/trunk/canvg.js"></script> 
		<script type="text/javascript">
	$(function () {
	    	
	    	// Radialize the colors
			Highcharts.getOptions().colors = Highcharts.map(Highcharts.getOptions().colors, function(color) {
			    return {
			        radialGradient: { cx: 0.5, cy: 0.3, r: 0.7 },
			        stops: [
			            [0, color],
			            [1, Highcharts.Color(color).brighten(-0.3).get('rgb')] // darken
			        ]
			    };
			});
			
			// Build the chart
	        $('#container').highcharts({
	            chart: {
	                plotBackgroundColor: null,
	                plotBorderWidth: null,
	                plotShadow: false,
	                backgroundColor: null
	            },
	            title: {
	                text: 'Gráfico de avaliações positivas, negativas e neutras do produto',
	                color: 'black'
	            },
	            tooltip: {
	        	    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
	            },
	            plotOptions: {
	                pie: {
	                    allowPointSelect: true,
	                    cursor: 'pointer',
	                    dataLabels: {
	                        enabled: true,
	                        color: 'black',
	                        connectorColor: '#000000',
	                        formatter: function() {
	                            return '<b>'+ this.point.name +'</b>: '+ this.percentage +' %';
	                        }
	                    }
	                }
	            },
	            series: [{
	                type: 'pie',
	                name: 'Browser share',
	                data: [
	                    {
	                        name: 'Positivos',
	                        y: 15,
	                        sliced: true,
	                        selected: true,
                          color: 'green'
	                    },
	                    {
                          name: 'Negativos',
                          y: 15,
                          sliced: false,
                          selected: false,
                          color: 'red'
                      },
	                    {
                          name: 'Neutros',
                          y: 5,
                          sliced: false,
                          selected: false,
                          color: 'gray'
                      },
	                ]
	            }]
	        });
	    });

    this.createCanvas();
	</script>
  </head>

  <body>
    <meta charset="utf-8" />

    <div id="wrapper">

    <!-- Sidebar -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><i class="fa fa-home fa-lg"> Procurar novo produto</a></i>
    </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav side-nav">

            <li class="actie">
              <%= link_to ' Info do produto', {
                :action => 'info', 
                :product => @product }, 
              class: "fa fa-info fa-lg" %>
            </li>

            <li>
              <%= link_to ' Graficos', {
                :action => 'charts', 
                :product => @product}, 
                class: "fa fa-bar-chart-o fa-lg" %>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-caret-square-o-down fa-lg"></i> Tweets <b class="caret"></b></a>
              <ul class="dropdown-menu">

                <li>
                  <%= link_to ' Geral', {
                    :action => 'posts', 
                    :product => @product}, 
                    class: "fa fa-list-alt" %>
                </li>

                <li>
                  <%= link_to ' Lista de Spams', {
                    :action => 'spams'}, 
                    class: "fa fa-thumbs-down" %>
                </li>

              </ul>
            </li>

            <li>
              <%= link_to ' Gerar PDF', {
                :action => 'pdf'}, 
                class: "fa fa-edit fa-lg" %>
            </li>

          <div class="reload">
              <%= link_to ' Recarregar pesquisa!', {
                :action => 'refresh_posts',
                :remote => true,
                :format => 'html',
                :path => 'charts' },
                class: "fa fa-refresh fa-2x" %>
          </div>
            
          </ul>

          <ul class="nav navbar-nav navbar-right navbar-user">
            <li>
              <%= link_to '', {:action => 'about'}, class: "fa fa-info-circle fa-lg" %>
            </li>
            <li class="dropdown user-dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user fa-lg"></i> Pedro Grandin <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#"><i class="fa fa-user"></i> Perfil</a></li>
                <li><a href="#"><i class="fa fa-gear"></i> Configurações</a></li>
                <li class="divider"></li>
                <li><a href="#"><i class="fa fa-power-off"></i> Sair</a></li>
              </ul>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </nav>

      <div id="page-wrapper">

        <div class="row">
          <div class="col-lg-12">
            <h1>Gráficos do resultado</h1>
          </div>
        </div><!-- /.row -->

      </div><!-- /#page-wrapper -->

    </div><!-- /#wrapper -->

		<script src="/js/highcharts.js"></script>
		<script src="/js/modules/exporting.js"></script>

		<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>

	</body>
</html>
